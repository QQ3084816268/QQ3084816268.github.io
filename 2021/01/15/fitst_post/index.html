<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="学完指针与函数，指针与数组后，我接触到了新的数据类型，字符串 在C语言中，字符串是字符的集合，可利用数组（指针常量），或者指针变量来表示  char *str1&#x3D;”Apple ipod”;  表示str1指向字符串的第一个字符‘A’，我们用图来详细描述  也可以用数组的表示法，如下所示：  char str2[10]&#x3D;”Apple iPod”   str2是一个数组名，表示此数组第一个元素的地址（">
<meta property="og:type" content="article">
<meta property="og:title" content="Axuan&#39;Blog">
<meta property="og:url" content="http://example.com/2021/01/15/fitst_post/index.html">
<meta property="og:site_name" content="Axuan&#39;Blog">
<meta property="og:description" content="学完指针与函数，指针与数组后，我接触到了新的数据类型，字符串 在C语言中，字符串是字符的集合，可利用数组（指针常量），或者指针变量来表示  char *str1&#x3D;”Apple ipod”;  表示str1指向字符串的第一个字符‘A’，我们用图来详细描述  也可以用数组的表示法，如下所示：  char str2[10]&#x3D;”Apple iPod”   str2是一个数组名，表示此数组第一个元素的地址（">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-42.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-43.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-44.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-45.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-46.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-47.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-48.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-49.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-50.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-51.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-53-1024x434.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-54.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-55.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-56.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-57.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-58.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/0GXTHH9Z580IM9MG__MBB.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-59.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-60.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-61.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-62.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-63.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-64.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-65.png">
<meta property="og:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-66.png">
<meta property="article:published_time" content="2021-01-15T15:14:50.550Z">
<meta property="article:modified_time" content="2021-01-15T15:14:38.970Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-42.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Axuan&#39;Blog</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 5.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" href="/2021/01/15/my-first-blog/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2021/01/15/fitst_post/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2021/01/15/fitst_post/&text="><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2021/01/15/fitst_post/&title="><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2021/01/15/fitst_post/&is_video=false&description="><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=&body=Check out this article: http://example.com/2021/01/15/fitst_post/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2021/01/15/fitst_post/&title="><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2021/01/15/fitst_post/&title="><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2021/01/15/fitst_post/&title="><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2021/01/15/fitst_post/&title="><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2021/01/15/fitst_post/&name=&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2021/01/15/fitst_post/&t="><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E6%A8%A1%E6%8B%9Fstring%E5%BA%93"><span class="toc-number">1.</span> <span class="toc-text">指针模拟string库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">计算字符串长度：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%A4%8D%E5%88%B6%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">字符串的复制：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%93%BE%E6%8E%A5%EF%BC%9A"><span class="toc-number">4.</span> <span class="toc-text">字符串链接：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83"><span class="toc-number">5.</span> <span class="toc-text">字符串比较</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="toc-number">6.</span> <span class="toc-text">总结：</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">John Doe</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2021-01-15T15:14:50.550Z" itemprop="datePublished">2021-01-15</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>学完指针与函数，指针与数组后，我接触到了新的数据类型，字符串</p>
<p>在C语言中，字符串是字符的集合，可利用数组（指针常量），或者指针变量来表示</p>
<ul>
<li>char *str1=”Apple ipod”;</li>
</ul>
<p>表示str1指向字符串的第一个字符‘A’，我们用图来详细描述</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-42.png" alt="img"></p>
<p>也可以用数组的表示法，如下所示：</p>
<ul>
<li>char str2[10]=”Apple iPod”</li>
</ul>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-43.png" alt="img"></p>
<p>str2是一个数组名，表示此数组第一个元素的地址（相当于&amp;str2[0]），str+1表示数组的第二个元素的地址（相当于&amp;str2[1]）,……..以此类推，str2+10则是字符（‘\0’）的地址，字符的最后都有一个空字符（‘\0’），作为字符串的结束点，若缺少它，将会产生错误的答案</p>
<p>注意点：str1是指针变量，而str2是指针常量，所以str2不可以使用++（自增）和–（自减）运算符。</p>
<p>首先，利用指针变量指向一个字符串，并以字符的格式将字符串输出</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span>* p = <span class="string">&quot;Apple iPod&quot;</span>;</span><br><span class="line">     <span class="comment">//定义一个指针p，指向字符串Apple iPod的首地址，A的地址</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;字符串str为：&quot;</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; *p != <span class="string">&#x27;\0&#x27;</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, *p);</span><br><span class="line">                <span class="comment">//结束条件为，输出到（\0）时</span></span><br><span class="line">		p++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>利用循环输出目前指针所指向的字符，直到空字符（‘\0’）为止，上例的字符串也可以使用数组的方式加以输出。</p>
<p>在放代码前补一个for循环的小笔记：for(循环初始值，循环判定条件，循环运算)</p>
<p>三个条件三个空间，互不干涉均可省略！</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> p[] = <span class="string">&quot;Apple iPod&quot;</span> ;</span><br><span class="line">     <span class="comment">//定义一个指针p，指向字符串Apple iPod的首地址，A的地址</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;字符串str为：&quot;</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; p[i] != <span class="string">&#x27;\0&#x27;</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, p[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上列代码是我们常用的一种形式，将判断条件改为了p[i]！=0，数组走到‘\0’元素时就停止了循环</p>
<p>以上代码输出均为：Apple iPod   </p>
<p>其实平常我们最常用，最简单的方法，就是使用%s格式进行输出</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> p[] = &#123; <span class="string">&quot;Apple iPod&quot;</span> &#125;;</span><br><span class="line">	<span class="keyword">char</span>* p2 = &#123; <span class="string">&quot;Apple iPod&quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, p);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, p2);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以看到，数组和指针均可用花括号括元素表示，输出结果：</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-44.png" alt="img"></p>
<p>要注意的是，此时变量给予的数组名，如p和p2，因为数组名表示数组第一个元素的地址，所以会从此地址一直打印到字符串的结束点（空字符‘\0’）</p>
<p>若将上例代码的p数组元素个素修改为10，将会出错，因为无法找到\0，看代码</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-45.png" alt="img"></p>
<p>输出结果：</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-46.png" alt="img"></p>
<p>在输出结果中，p的字符串是错误的，在输出完后乱码，因为分配给p的空间不足，使他无法存放空字符（‘\0’），所以经常会将数组下标省略，有程序去自定义</p>
<p>除了在定义字符串变量时，直接给予一个字符串外，也可以利用其他方式得到</p>
<p>上代码：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">char</span>* p = &#123; <span class="string">&quot;Learning pointer now&quot;</span> &#125;;</span><br><span class="line">	<span class="keyword">char</span> p2[] = <span class="string">&quot;Go ahead&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span>* p3;</span><br><span class="line">	<span class="keyword">char</span> p4[<span class="number">20</span>];</span><br><span class="line"></span><br><span class="line">	p3 = <span class="string">&quot;I want to buy a iPod\0&quot;</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;C or C++:&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, p4);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n%s\n&quot;</span>, p);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, p2);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, p3);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, p4);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>p为指针变量，定义时指定一个字符串</li>
<li>p2为指针常量，为数组，定义时候给予一个字符串</li>
<li>p3为指针变量，通过赋值给它指定一个字符串</li>
<li>p4为指针常量，为数组，通过scanf键盘输入给它一个字符串</li>
</ul>
<p>注意，若将代码中的p3改为数组，p4改为指针变量，则会产生错误</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-47.png" alt="img"></p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-48.png" alt="img"></p>
<p><strong>p3为一个数组，它是指针常量，则计算机已经给p3分配好固定的地址，不可以再指定一个新的字符串给它</strong></p>
<p><strong>p4是一个指针变量，不可以由输入的方式来完成指定操作！</strong></p>
<h4 id="指针模拟string库"><a href="#指针模拟string库" class="headerlink" title="指针模拟string库"></a>指针模拟string库</h4><p>字符串的操作，最常用的包括：</p>
<ul>
<li>计算字符串长度（string length）</li>
<li>进行字符串复制（string copy）</li>
<li>进行字符串链接（string concatenate）</li>
<li>进行字符串比较（string compare）</li>
</ul>
<p>要完成这些动作，最方便的是调用字符串的库函数，弹药包含string.h的头文件，这些函数原型全在string的头文件内</p>
<p>除了调用字符串的库函数外，也能利用字符串指针自行编写程序，以模拟这些库函数的功能</p>
<h4 id="计算字符串长度："><a href="#计算字符串长度：" class="headerlink" title="计算字符串长度："></a>计算字符串长度：</h4><p>字符串的长度表示此字符串有多少个字符，但不包括空字符（”\0”），计算字符串长度的库函数为strlen，其语法如下：</p>
<p>strlen(str1);//计算str1的长度</p>
<p>我们用指针来实现它：</p>
<ul>
<li>定义一个指针指向一个字符串的首地址</li>
<li>自定义函数，将指针传入函数内</li>
<li>利用循环语句，指针从首地址指向包含’\0’的地址</li>
<li>指针每走一次，长度加一，直到走到’\0’</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">stringlength</span><span class="params">(<span class="keyword">char</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> length = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">char</span>* p = <span class="string">&quot;Apple iPod&quot;</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;使用库函数：%d\n&quot;</span>, <span class="built_in">strlen</span>(p));</span><br><span class="line"></span><br><span class="line">	length = stringlength(p);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;使用自定义函数：%d\n&quot;</span>, length);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">stringlength(<span class="keyword">char</span>* p)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;<span class="comment">//计数功能</span></span><br><span class="line">	<span class="keyword">while</span> (*p != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">		<span class="comment">//当指针递增到存有&#x27;\0&#x27;字符地址时，停止循环</span></span><br><span class="line">	&#123;</span><br><span class="line">		p++;</span><br><span class="line">		i++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> i;</span><br><span class="line">	<span class="comment">//返回i</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-49.png" alt="img"></p>
<p>在stringlenth函数内，若<em>p不为空字符，则变量i加1，之后指针再走向下一个字符的地址，上述操作持续进行，直到</em>为空字符则结束，因为空字符是字符串的结束字符</p>
<h4 id="字符串的复制："><a href="#字符串的复制：" class="headerlink" title="字符串的复制："></a>字符串的复制：</h4><p>字符串复制的库函数为strcpy，其语法如下：</p>
<p>strcpy(str1,str2);</p>
<p>表示从str2字符串的第一个字符，逐一的赋值到str1字符串，注意：第一个参数str1是接收者，第二个参数str2是给予者</p>
<p>来看下它的使用：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span>* p = <span class="string">&quot;Apple iPod&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span> a[<span class="number">80</span>] = &#123;<span class="string">&quot; &quot;</span>&#125;;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;使用库函数之前: \np=%s\na=%s\n&quot;</span>,p,a);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">strcpy</span>(a, p);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;使用库函数之后：\np=%s\na=%s\n&quot;</span>, p, a);</span><br><span class="line"></span><br><span class="line">	system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>来看看结果：</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-50.png" alt="img"></p>
<p><strong>若a数组内原来就有字符，则原有字符会被指针p指向的字符串所代替，这里必须小心，以免数据丢失</strong></p>
<p>我们用图片来解释一下它的替代过程：</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-51.png" alt="img"></p>
<p>p指向了字符串的首地址，指针p内存储的是字符‘A’的地址，定义数组时分配了80个char类型的存储空间，由于字符串存储地址具有连续性，则在循环过程中逐个复制了下来</p>
<p>这里特别注意：a数组中要有足够的空间给容纳s字符串</p>
<p>若将上例代码中的</p>
<p>char a[80]=” “;</p>
<p>改为：</p>
<p>char *a</p>
<p>将会有错误产生，因为*a是一个指针变量，且没有一个指向的内存空间，这是我经常会犯错的地方，解决办法就是先分配一个内存给a指针变量，用到malloc来分配</p>
<p>a=(char*)malloc(sizeof*(char));</p>
<p>但是就这样改变的话会发生“访问写入权限冲突”具体解决方案请移步到补充笔记</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-53-1024x434.png" alt="img"></p>
<p>接下来我们继续参照字符串复制的原理，用自定义函数实现</p>
<p>基本思路：</p>
<ul>
<li><strong>定义一个指针指向字符串首地址</strong></li>
<li><strong>定义一个能容纳字符串的数组</strong></li>
<li><strong>利用循环让指针从首字符依次走到空字符（\0）</strong></li>
<li><strong>每走一次将指针走过的字符写入数组内</strong></li>
<li><strong>具有连续性</strong></li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">StringCopy</span><span class="params">(<span class="keyword">char</span>*, <span class="keyword">char</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span>* p = <span class="string">&quot;Apple iPod&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span> a[<span class="number">80</span>] = <span class="string">&quot; &quot;</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;传入之前：\np=%s\na=%s\n&quot;</span>, p, a);</span><br><span class="line">	StringCopy(p, a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;写入之后：\np=%s\na=%s\n&quot;</span>, p, a);</span><br><span class="line"></span><br><span class="line">	system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">StringCopy</span><span class="params">(<span class="keyword">char</span>* p, <span class="keyword">char</span>* a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span> (*a != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*a = *p;</span><br><span class="line">		p++;</span><br><span class="line">		a++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在StringCopy函数中，利用while循环，将<em>p的内容赋给</em>a的内容，待传入到空字符则结束循环，若不是空字符，则将p和a都移步到下一地址，继续执行复制的动作</p>
<p>运行结果：</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-54.png" alt="img"></p>
<p>若我们只需要复制n个字符时候，则调用strning函数，其语法如下：</p>
<p>strning(a,p,n)//将p中的字符串复制到a数组内，复制个数为n</p>
<ul>
<li><strong>定义一个指针指向字符串首地址</strong></li>
<li><strong>定义一个能容纳字符串的数组</strong></li>
<li><strong>将需要断开的地址赋值为空字符</strong></li>
<li><strong>当循环走到空字符时，停止复制</strong></li>
</ul>
<p>我们用指针来实现它的原理：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">StringCopy</span><span class="params">(<span class="keyword">char</span>*, <span class="keyword">char</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span>* p = <span class="string">&quot;Apple iPod&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span> a[<span class="number">80</span>];</span><br><span class="line">	a[<span class="number">5</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">strncpy</span>(a, p, <span class="number">5</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;使用库函数：\np=%s\na=%s\n&quot;</span>, p, a);</span><br><span class="line">	</span><br><span class="line">	StringCopy(p, a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;使用自定义函数：\np=%s\na=%s\n&quot;</span>, p, a);</span><br><span class="line"></span><br><span class="line">	system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">StringCopy</span><span class="params">(<span class="keyword">char</span>* p, <span class="keyword">char</span>* a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (i &lt; <span class="number">5</span> &amp;&amp; *a != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*a = *p;</span><br><span class="line">		p++;</span><br><span class="line">		a++;</span><br><span class="line">                i++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>循环条件需要满足i&lt;5，则循环要走五次，还要满足这五次循环中，a的值始终不能为空字符</p>
<p>因为是复制前5个字符，控制循环体的条件可缺一，不过最好全部加上，这样显得目的明确：</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-55.png" alt="img"></p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-56.png" alt="img"></p>
<p>与上例代码其实大致相同，只不过多了变量i来控制循环体，同样，如果需要复制n个字符，只需要在下标n处设置空字符即可。</p>
<h4 id="字符串链接："><a href="#字符串链接：" class="headerlink" title="字符串链接："></a>字符串链接：</h4><p>字符串的链接的库函数为strcat，其语法如下：</p>
<p>strcat(str1,str2);</p>
<p>表示将str2字符串连接到str1字符串的尾端，注意，str1必须要分配足够的空间</p>
<ul>
<li>定义两个需要链接的字符</li>
<li>注意需要嵌入字符串的内存要足够容纳需要嵌入的字符串</li>
<li>利用循环先走到需要嵌入的字符串尾端，不包含空字符</li>
<li>利用循环将嵌入的字符串嵌入进数组内</li>
<li>尾端的空字符会被代替</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">StringConcat</span><span class="params">(<span class="keyword">char</span>*, <span class="keyword">char</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> a[<span class="number">80</span>] = <span class="string">&quot;I want to buy a &quot;</span>;</span><br><span class="line">	<span class="keyword">char</span>* p = <span class="string">&quot;iPhone&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span> b[<span class="number">80</span>] = <span class="string">&quot;I want to buy a &quot;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">strcat</span>(a, p);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;使用库函数：%s\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">	StringConcat(b, p);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;使用自定义函数：%s\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">	system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">StringConcat</span><span class="params">(<span class="keyword">char</span>* b, <span class="keyword">char</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span> (*b != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		b++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (*b != <span class="string">&#x27;\0&#x27;</span>);</span><br><span class="line">	&#123;</span><br><span class="line">		*b = *p;</span><br><span class="line">		b++;</span><br><span class="line">		p++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>那么这时我产生了一个疑问，能不能将数组嵌入到p后面呢？通过测试，是不行的</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-57.png" alt="img"></p>
<p>我用的是strcat函数直接进行链接，因为p为指针变量，它指向的为一个地址</p>
<p><strong>给它指定一个字符串，它所含的值也是字符串首字符的地址，它可以通过运算走过相邻的地址，但是它无法在所指向之外的地址存入值，所以无法完成连接</strong></p>
<p><strong>而数组可以是因为在数组定义的时候，计算机并分配了n个连续性同类型的内存空间给它，它所有的地址都是相邻的，已经分配好属于它的，所以在未越界的情况下，可以在地址内存储，修改值</strong></p>
<p>在上述代码的stringconcate函数中，利用循环先追踪到a所存储的字符串尾端，接下来，将p指针指向的字符串（<em>p）指定给（</em>a），直到（*p）是空字符为止</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-58.png" alt="img"></p>
<p>若只是要链接n个字符，则可调用strncat库函数，其语法如下：</p>
<p>strncat(str1,str2,n);</p>
<p>意思是将str2的前n个字符链接到str1</p>
<p><strong>与上述思路一样，我们利用循环次数来控制复制量</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">StringConcat</span><span class="params">(<span class="keyword">char</span>*, <span class="keyword">char</span>*, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> a[<span class="number">80</span>] = <span class="string">&quot;I want to buy a &quot;</span>;</span><br><span class="line">	<span class="keyword">char</span>* p = <span class="string">&quot;iPhone&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span> b[<span class="number">80</span>] = <span class="string">&quot;I want to buy a &quot;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">strncat</span>(a, p, <span class="number">5</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;使用库函数：%s\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">	StringConcat(b, p, <span class="number">5</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;使用自定义函数：%s\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">	system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">StringConcat</span><span class="params">(<span class="keyword">char</span>* b, <span class="keyword">char</span>* p, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (*b != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		b++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (i &lt; n &amp;&amp; *b != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*b = *p;</span><br><span class="line">		b++;</span><br><span class="line">		p++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/0GXTHH9Z580IM9MG__MBB.png" alt="img"></p>
<h4 id="字符串比较"><a href="#字符串比较" class="headerlink" title="字符串比较"></a>字符串比较</h4><p>字符串比较也可以说是最常用的，若要比较两个字符串是否相等，<strong>有些人可能会这样编写代码</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> str1[] = <span class="string">&quot;Honda Civic&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span> str2[] = <span class="string">&quot;Honda Civic&quot;</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;str1指向的地址：%x\n&quot;</span>, str1);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;str2指向的地址：%x\n&quot;</span>, str2);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (str1 == str2)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;str1等于str2\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;str1不等于str2\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这段代码是在比较str1和str2的地址是否相等，而不是比较内容是否相等，因为<strong>str1和str2是数组名，表示第一个元素的地址</strong>，所以这段内容并不是在比较字符串的内容</p>
<p>输出结果：</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-59.png" alt="img"></p>
<p><strong>如果使用指针变量作比较，这会有不一样的结果：</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">char</span>* p = <span class="string">&quot;Hello Word&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span>* p2 = <span class="string">&quot;Hello Word&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span>* p3 = <span class="string">&quot;Hello Jiajia&quot;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;p所指向的地址：%x\n&quot;</span>, p);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;p2所指向的地址：%x\n&quot;</span>, p2);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;p3所指向的地址：%x\n&quot;</span>, p3);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (p == p2)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p等于p2\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p不等于p2\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (p == p3)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p等于p3\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p不等于p3\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述代码也是在比较地址，因为p，p2，p3均为指针变量，指向的都是一段字符串的首地址，p和p2指向的是相同的字符串，则它两相等，而p3指向的则是不同的字符串，所以它与p和p2都不想等</p>
<p>也可以使用malloc动态内存分配函数，先分配内存，再指定一个字符串给它，如：</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-60.png" alt="img"></p>
<p>输出结果也与上述代码相同</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-61.png" alt="img"></p>
<p>但我们一般不会使用上述两种方式来比较字符串是否相等，这里的用意是为了了解这样比较的方法是错误的，也更加加强了指针与字符串之间的关系，</p>
<p>当然是用strcmp函数来比较字符串是最正统的，strcmp函数在头文件string函数内，其语法如下：</p>
<p>strcmp(p,p2);//表示比较p与p2字符串是否相等</p>
<p>我们用代码来看看：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">stringCompare</span><span class="params">(<span class="keyword">char</span>*, <span class="keyword">char</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span>* p = <span class="string">&quot;Hello Word&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span>* p2 = <span class="string">&quot;Hello China&quot;</span>;</span><br><span class="line">	<span class="keyword">int</span> value;</span><br><span class="line"></span><br><span class="line">	value = <span class="built_in">strcmp</span>(p, p2);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;使用库函数比较:\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">strcmp</span>(p, p2);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span> (value)</span><br><span class="line">	&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p等于p2\n&quot;</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p大于p2\n&quot;</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">-1</span>:</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p小于p2\n&quot;</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;使用自定义函数比较：\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	value = stringCompare(p, p2);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (value == <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p等于p2\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (value &gt; <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p大于p2\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p小于p2\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">stringCompare</span><span class="params">(<span class="keyword">char</span>* x, <span class="keyword">char</span>* y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//让指针走过字符串每一个字符</span></span><br><span class="line">	<span class="comment">//当字符串字符不相等时停止循环</span></span><br><span class="line">	<span class="keyword">while</span> (*x == *y)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (*x == <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">			<span class="comment">//判断字符串是否为0</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		x++;</span><br><span class="line">		y++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> *x - *y;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们来用图剖析自定义函数体内的代码</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-62.png" alt="img"></p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-63.png" alt="img"></p>
<p>在stringcompare函数中，比较<em>x与</em>y的内容是否相等，假如相等，则再判断<em>x是否为空字符，若不是，则将</em>x与*y的内容相减后返回</p>
<p>输出结果：</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-64.png" alt="img"></p>
<p>在循环到空格的时候，x++，y++指向对应的字母分别为W和C，转换成ASCII码做比较，W为87，C为67，则p大于p2</p>
<p>有时在比较两个字符串时，并不需要比较整个字符串，只要比较前面几个字符即可，可用到strncmp函数，其格式为</p>
<p>strncmp(str1,str2,n)//比较str1与str2前五个字符的大小</p>
<p>我们用代码来实现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">stringCompare</span><span class="params">(<span class="keyword">char</span>*, <span class="keyword">char</span>*, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span>* p = <span class="string">&quot;Hello Word&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span>* p2 = <span class="string">&quot;Hello China&quot;</span>;</span><br><span class="line">	<span class="keyword">int</span> value;</span><br><span class="line"></span><br><span class="line">	value = <span class="built_in">strncmp</span>(p, p2,<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;使用库函数比较:\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">strcmp</span>(p, p2);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span> (value)</span><br><span class="line">	&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p等于p2\n&quot;</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p大于p2\n&quot;</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">-1</span>:</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p小于p2\n&quot;</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;使用自定义函数比较：\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">	value = stringCompare(p, p2, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (value == <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p等于p2\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (value &gt; <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p大于p2\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;p小于p2\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">stringCompare</span><span class="params">(<span class="keyword">char</span>* x, <span class="keyword">char</span>* y, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//让指针走过字符串每一个字符</span></span><br><span class="line">	<span class="comment">//当字符串字符不相等时停止循环</span></span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (i &lt; n &amp;&amp; *x == *y)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (*x == <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">			<span class="comment">//判断字符串是否为0</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		x++;</span><br><span class="line">		i++;</span><br><span class="line">		y++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> *x - *y;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>与复制，连接一样，通过循环变量来控制循环次数（比较次数），可以看到</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-65.png" alt="img"></p>
<p>多了变量i和参数n，起到一个控制循环次数的作用，输出结果：</p>
<p><img src="https://axuannote-1304271763.cos.ap-nanjing.myqcloud.com/2020/07/image-66.png" alt="img"></p>
<h4 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h4><p>指针与字符串我们清楚了<strong>指针常量和变量的区别和关系</strong></p>
<p>数组可看做指针常量，在定义的时候，计算机就已经分配好了固定的内存给它，<strong>这段地址是不可修改，只能存储</strong></p>
<p>当一个字符串赋值给数组时，是将<strong>字符串每个字符存入数组内的空间</strong></p>
<p>当一个字符串赋值给指针时，<strong>是将指针指向该字符串的首地址，如果在定义指针时并未指定，则不可通过赋值给指针</strong></p>
<p>如果一定要赋值，则需要<strong>动态分配一片内存给指针，再指定一个字符串给它</strong></p>
<p>当需要用户输入的时候，<strong>指针不可以指定键盘输入的元素，俗点说，指针只能指向已知的数据</strong>，否则会像无头苍蝇一样。如果需要用户输入，<strong>则动态malloc分配一片内存给指针</strong></p>
<p>而数组可以，因为数组已经是一片固定内存，当用户输入时，用户输入的数据会存入该数组。</p>
<p><strong>数组相当于一个公用箱，你不能动它，但是你可以存取东西，而指针相当于一个私人用箱，你可以随意修改己值和他值。当然，指向的数据类型需要是变量。</strong></p>
<p>而*<em>指针\</em>和数组[]**均有取值功能。</p>
<p>在本章中模拟string库函数，原理不过是通过指针去修改，存储地址内的值</p>
<ul>
<li>复制就是指针走过字符串所有字符，然后依次将其存入未被占用的地址内</li>
<li>连接就是指针走过所有字不包含空的字符，然后在尾端执行复制</li>
<li>比较就是指针依次走过所有字符，将字符转换成ASCII码进行比较</li>
<li>计数就是指针依次走过所有字符，每走过一个，计数变量递增一次</li>
</ul>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E6%A8%A1%E6%8B%9Fstring%E5%BA%93"><span class="toc-number">1.</span> <span class="toc-text">指针模拟string库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">计算字符串长度：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%A4%8D%E5%88%B6%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">字符串的复制：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%93%BE%E6%8E%A5%EF%BC%9A"><span class="toc-number">4.</span> <span class="toc-text">字符串链接：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83"><span class="toc-number">5.</span> <span class="toc-text">字符串比较</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="toc-number">6.</span> <span class="toc-text">总结：</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2021/01/15/fitst_post/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2021/01/15/fitst_post/&text="><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2021/01/15/fitst_post/&title="><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2021/01/15/fitst_post/&is_video=false&description="><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=&body=Check out this article: http://example.com/2021/01/15/fitst_post/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2021/01/15/fitst_post/&title="><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2021/01/15/fitst_post/&title="><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2021/01/15/fitst_post/&title="><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2021/01/15/fitst_post/&title="><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2021/01/15/fitst_post/&name=&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2021/01/15/fitst_post/&t="><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2021
    John Doe
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
<script type="text/javascript"
color="220,220,220" opacity='0.7' zIndex="-2" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
</script>